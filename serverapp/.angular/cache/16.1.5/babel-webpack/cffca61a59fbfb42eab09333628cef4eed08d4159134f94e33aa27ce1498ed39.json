{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { BehaviorSubject, catchError, map, of, startWith } from 'rxjs';\nimport { DataState } from './enum/data.state.enum';\nimport { Status } from './enum/status.enum';\nexport let AppComponent = class AppComponent {\n  constructor(serverService) {\n    this.serverService = serverService;\n    this.DataState = DataState;\n    this.Status = Status;\n    this.filterSubject = new BehaviorSubject('');\n    this.filterStatus$ = this.filterSubject.asObservable();\n  }\n  ngOnInit() {\n    this.appState$ = this.serverService.server$.pipe(map(response => {\n      return {\n        dataState: DataState.LOADED_STATE,\n        appData: response\n      };\n    }), startWith({\n      dataState: DataState.LOADING_STATE\n    }), catchError(error => {\n      return of({\n        dataState: DataState.ERROR_STATE,\n        error\n      });\n    }));\n  }\n};\nAppComponent = __decorate([Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})], AppComponent);","map":{"version":3,"names":["Component","BehaviorSubject","catchError","map","of","startWith","DataState","Status","AppComponent","constructor","serverService","filterSubject","filterStatus$","asObservable","ngOnInit","appState$","server$","pipe","response","dataState","LOADED_STATE","appData","LOADING_STATE","error","ERROR_STATE","__decorate","selector","templateUrl","styleUrls"],"sources":["D:\\Works\\Spring Boot\\serverapp\\src\\app\\app.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { ServerService } from './service/server.service';\r\nimport { BehaviorSubject, Observable, catchError, map, of, startWith } from 'rxjs';\r\nimport { AppState } from './interface/app-state';\r\nimport { DataState } from './enum/data.state.enum';\r\nimport { Status } from './enum/status.enum'\r\nimport { CustomResponse } from './interface/custom-response';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent implements OnInit {\r\n  appState$!: Observable<AppState<CustomResponse>>;\r\n  readonly DataState = DataState;\r\n  readonly Status = Status;\r\n  private filterSubject = new BehaviorSubject<string>('');\r\n  filterStatus$ = this.filterSubject.asObservable();\r\n\r\n\r\n  constructor(private serverService: ServerService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.appState$ = this.serverService.server$\r\n      .pipe(\r\n        map(response => {\r\n          return { dataState: DataState.LOADED_STATE, appData: response}\r\n        }),\r\n        startWith({ dataState: DataState.LOADING_STATE}),\r\n        catchError((error: string) => {\r\n          return of({ dataState: DataState.ERROR_STATE, error })\r\n        })\r\n      )\r\n  }\r\n}\r\n"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAEjD,SAASC,eAAe,EAAcC,UAAU,EAAEC,GAAG,EAAEC,EAAE,EAAEC,SAAS,QAAQ,MAAM;AAElF,SAASC,SAAS,QAAQ,wBAAwB;AAClD,SAASC,MAAM,QAAQ,oBAAoB;AAQpC,WAAMC,YAAY,GAAlB,MAAMA,YAAY;EAQvBC,YAAoBC,aAA4B;IAA5B,KAAAA,aAAa,GAAbA,aAAa;IANxB,KAAAJ,SAAS,GAAGA,SAAS;IACrB,KAAAC,MAAM,GAAGA,MAAM;IAChB,KAAAI,aAAa,GAAG,IAAIV,eAAe,CAAS,EAAE,CAAC;IACvD,KAAAW,aAAa,GAAG,IAAI,CAACD,aAAa,CAACE,YAAY,EAAE;EAGG;EAEpDC,QAAQA,CAAA;IACN,IAAI,CAACC,SAAS,GAAG,IAAI,CAACL,aAAa,CAACM,OAAO,CACxCC,IAAI,CACHd,GAAG,CAACe,QAAQ,IAAG;MACb,OAAO;QAAEC,SAAS,EAAEb,SAAS,CAACc,YAAY;QAAEC,OAAO,EAAEH;MAAQ,CAAC;IAChE,CAAC,CAAC,EACFb,SAAS,CAAC;MAAEc,SAAS,EAAEb,SAAS,CAACgB;IAAa,CAAC,CAAC,EAChDpB,UAAU,CAAEqB,KAAa,IAAI;MAC3B,OAAOnB,EAAE,CAAC;QAAEe,SAAS,EAAEb,SAAS,CAACkB,WAAW;QAAED;MAAK,CAAE,CAAC;IACxD,CAAC,CAAC,CACH;EACL;CACD;AAtBYf,YAAY,GAAAiB,UAAA,EALxBzB,SAAS,CAAC;EACT0B,QAAQ,EAAE,UAAU;EACpBC,WAAW,EAAE,sBAAsB;EACnCC,SAAS,EAAE,CAAC,qBAAqB;CAClC,CAAC,C,EACWpB,YAAY,CAsBxB"},"metadata":{},"sourceType":"module","externalDependencies":[]}